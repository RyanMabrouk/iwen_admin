exports.id=732,exports.ids=[732],exports.modules={77325:(e,r,t)=>{Promise.resolve().then(t.bind(t,60068)),Promise.resolve().then(t.bind(t,65685))},60068:(e,r,t)=>{"use strict";t.d(r,{V:()=>w,ProductForm:()=>v});var a=t(10326),s=t(27256),i=t(17577),l=t(74064),d=t(74723),n=t(47035),o=t(35047),c=t(54432),m=t(90772),u=t(29270),x=t(8281),p=t(36955),f=t(34474),h=t(34789),j=t(30501),g=t(46226);function b({onChange:e,onRemove:r,value:t}){let{toast:s}=(0,h.pm)(),i=e=>{r(t.filter(r=>r.key!==e))},l=r=>{e([...t,...r])};return(0,a.jsxs)("div",{children:[a.jsx("div",{className:"mb-4 flex items-center gap-4",children:!!t.length&&t?.map(e=>a.jsxs("div",{className:"relative h-[200px] w-[200px] overflow-hidden rounded-md",children:[a.jsx("div",{className:"absolute right-2 top-2 z-10",children:a.jsx(m.z,{type:"button",onClick:()=>i(e.key),variant:"destructive",size:"sm",children:a.jsx(n.Z,{className:"h-4 w-4"})})}),a.jsx("div",{children:a.jsx(g.default,{fill:!0,className:"object-cover",alt:"Image",src:e.url||""})})]},e.key))}),a.jsx("div",{children:t.length<w&&a.jsx(j.OH,{className:"ut-label:text-sm ut-allowed-content:ut-uploading:text-red-300 py-2 dark:bg-zinc-800",endpoint:"imageUploader",config:{mode:"auto"},content:{allowedContent({isUploading:e}){if(e)return a.jsx(a.Fragment,{children:a.jsx("p",{className:"mt-2 animate-pulse text-sm text-slate-400",children:"Img Uploading..."})})}},onClientUploadComplete:e=>{e&&l(e)},onUploadError:e=>{s({title:"Error",variant:"destructive",description:e.message})},onUploadBegin:()=>{}})})]})}let N=s.Ry({fileName:s.Z_(),name:s.Z_(),fileSize:s.Rx(),size:s.Rx(),fileKey:s.Z_(),key:s.Z_(),fileUrl:s.Z_(),url:s.Z_()}),w=3,y=s.Ry({name:s.Z_().min(3,{message:"Product Name must be at least 3 characters"}),imgUrl:s.IX(N).max(w,{message:"You can only add up to 3 images"}).min(1,{message:"At least one image must be added."}),description:s.Z_().min(3,{message:"Product description must be at least 3 characters"}),price:s.oQ.number(),category:s.Z_().min(1,{message:"Please select a category"})}),v=({initialData:e,categories:r})=>{(0,o.useParams)();let t=(0,o.useRouter)(),{toast:s}=(0,h.pm)(),[j,g]=(0,i.useState)(!1),[N,w]=(0,i.useState)(!1),[v,I]=(0,i.useState)(!1),R=(0,d.cI)({resolver:(0,l.F)(y),defaultValues:e||{name:"",description:"",price:0,imgUrl:[],category:""}}),C=async e=>{try{w(!0),t.refresh(),t.push("/dashboard/products"),s({variant:"destructive",title:"Uh oh! Something went wrong.",description:"There was a problem with your request."})}catch(e){s({variant:"destructive",title:"Uh oh! Something went wrong.",description:"There was a problem with your request."})}finally{w(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(p.X,{title:e?"Edit product":"Create product",description:e?"Edit a product.":"Add a new product"}),e&&a.jsx(m.z,{disabled:N,variant:"destructive",size:"sm",onClick:()=>g(!0),children:a.jsx(n.Z,{className:"h-4 w-4"})})]}),a.jsx(x.Separator,{}),a.jsx(u.l0,{...R,children:(0,a.jsxs)("form",{onSubmit:R.handleSubmit(C),className:"w-full space-y-8",children:[a.jsx(u.Wi,{control:R.control,name:"imgUrl",render:({field:e})=>(0,a.jsxs)(u.xJ,{children:[a.jsx(u.lX,{children:"Images"}),a.jsx(u.NI,{children:a.jsx(b,{onChange:e.onChange,value:e.value,onRemove:e.onChange})}),a.jsx(u.zG,{})]})}),(0,a.jsxs)("div",{className:"gap-8 md:grid md:grid-cols-3",children:[a.jsx(u.Wi,{control:R.control,name:"name",render:({field:e})=>(0,a.jsxs)(u.xJ,{children:[a.jsx(u.lX,{children:"Name"}),a.jsx(u.NI,{children:a.jsx(c.I,{disabled:N,placeholder:"Product name",...e})}),a.jsx(u.zG,{})]})}),a.jsx(u.Wi,{control:R.control,name:"description",render:({field:e})=>(0,a.jsxs)(u.xJ,{children:[a.jsx(u.lX,{children:"Description"}),a.jsx(u.NI,{children:a.jsx(c.I,{disabled:N,placeholder:"Product description",...e})}),a.jsx(u.zG,{})]})}),a.jsx(u.Wi,{control:R.control,name:"price",render:({field:e})=>(0,a.jsxs)(u.xJ,{children:[a.jsx(u.lX,{children:"Price"}),a.jsx(u.NI,{children:a.jsx(c.I,{type:"number",disabled:N,...e})}),a.jsx(u.zG,{})]})}),a.jsx(u.Wi,{control:R.control,name:"category",render:({field:e})=>(0,a.jsxs)(u.xJ,{children:[a.jsx(u.lX,{children:"Category"}),(0,a.jsxs)(f.Ph,{disabled:N,onValueChange:e.onChange,value:e.value,defaultValue:e.value,children:[a.jsx(u.NI,{children:a.jsx(f.i4,{children:a.jsx(f.ki,{defaultValue:e.value,placeholder:"Select a category"})})}),a.jsx(f.Bw,{children:r.map(e=>a.jsx(f.Ql,{value:e._id,children:e.name},e._id))})]}),a.jsx(u.zG,{})]})})]}),a.jsx(m.z,{disabled:N,className:"ml-auto",type:"submit",children:e?"Save changes":"Create"})]})})]})}},29270:(e,r,t)=>{"use strict";t.d(r,{l0:()=>m,NI:()=>g,Wi:()=>x,xJ:()=>h,lX:()=>j,zG:()=>b});var a=t(10326),s=t(17577),i=t(99469),l=t(74723),d=t(77863),n=t(34478);let o=(0,t(79360).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...r},t)=>a.jsx(n.f,{ref:t,className:(0,d.cn)(o(),e),...r}));c.displayName=n.f.displayName;let m=l.RV,u=s.createContext({}),x=({...e})=>a.jsx(u.Provider,{value:{name:e.name},children:a.jsx(l.Qr,{...e})}),p=()=>{let e=s.useContext(u),r=s.useContext(f),{getFieldState:t,formState:a}=(0,l.Gc)(),i=t(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=r;return{id:d,name:e.name,formItemId:`${d}-form-item`,formDescriptionId:`${d}-form-item-description`,formMessageId:`${d}-form-item-message`,...i}},f=s.createContext({}),h=s.forwardRef(({className:e,...r},t)=>{let i=s.useId();return a.jsx(f.Provider,{value:{id:i},children:a.jsx("div",{ref:t,className:(0,d.cn)("mb-2 space-y-2 lg:mb-0",e),...r})})});h.displayName="FormItem";let j=s.forwardRef(({className:e,...r},t)=>{let{error:s,formItemId:i}=p();return a.jsx(c,{ref:t,className:(0,d.cn)(s&&"text-destructive",e),htmlFor:i,...r})});j.displayName="FormLabel";let g=s.forwardRef(({...e},r)=>{let{error:t,formItemId:s,formDescriptionId:l,formMessageId:d}=p();return a.jsx(i.g7,{ref:r,id:s,"aria-describedby":t?`${l} ${d}`:`${l}`,"aria-invalid":!!t,...e})});g.displayName="FormControl",s.forwardRef(({className:e,...r},t)=>{let{formDescriptionId:s}=p();return a.jsx("p",{ref:t,id:s,className:(0,d.cn)("text-[0.8rem] text-muted-foreground",e),...r})}).displayName="FormDescription";let b=s.forwardRef(({className:e,children:r,...t},s)=>{let{error:i,formMessageId:l}=p(),n=i?String(i?.message):r;return n?a.jsx("p",{ref:s,id:l,className:(0,d.cn)("text-[0.8rem] font-medium text-destructive",e),...t,children:n}):null});b.displayName="FormMessage"},36955:(e,r,t)=>{"use strict";t.d(r,{X:()=>s});var a=t(10326);let s=({title:e,description:r})=>(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:e}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})},54432:(e,r,t)=>{"use strict";t.d(r,{I:()=>l});var a=t(10326),s=t(17577),i=t(77863);let l=s.forwardRef(({className:e,type:r,...t},s)=>a.jsx("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));l.displayName="Input"},34474:(e,r,t)=>{"use strict";t.d(r,{Bw:()=>m,Ph:()=>n,Ql:()=>u,i4:()=>c,ki:()=>o});var a=t(10326),s=t(17577),i=t(76812),l=t(75334),d=t(77863);let n=l.fC;l.ZA;let o=l.B4,c=s.forwardRef(({className:e,children:r,...t},s)=>(0,a.jsxs)(l.xz,{ref:s,className:(0,d.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:[r,a.jsx(l.JO,{asChild:!0,children:a.jsx(i.jnn,{className:"h-4 w-4 opacity-50"})})]}));c.displayName=l.xz.displayName;let m=s.forwardRef(({className:e,children:r,position:t="popper",...s},i)=>a.jsx(l.h_,{children:a.jsx(l.VY,{ref:i,className:(0,d.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...s,children:a.jsx(l.l_,{className:(0,d.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})}));m.displayName=l.VY.displayName,s.forwardRef(({className:e,...r},t)=>a.jsx(l.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",e),...r})).displayName=l.__.displayName;let u=s.forwardRef(({className:e,children:r,...t},s)=>(0,a.jsxs)(l.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(l.wU,{children:a.jsx(i.nQG,{className:"h-4 w-4"})})}),a.jsx(l.eT,{children:r})]}));u.displayName=l.ck.displayName,s.forwardRef(({className:e,...r},t)=>a.jsx(l.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=l.Z0.displayName},8281:(e,r,t)=>{"use strict";t.d(r,{Separator:()=>d});var a=t(10326),s=t(17577),i=t(90220),l=t(77863);let d=s.forwardRef(({className:e,orientation:r="horizontal",decorative:t=!0,...s},d)=>a.jsx(i.f,{ref:d,decorative:t,orientation:r,className:(0,l.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...s}));d.displayName=i.f.displayName},19801:(e,r,t)=>{"use strict";t.d(r,{O:()=>f});var a=t(19510),s=t(71159),i=t(30973),l=t(22813),d=t(50650);let n=s.forwardRef(({...e},r)=>a.jsx("nav",{ref:r,"aria-label":"breadcrumb",...e}));n.displayName="Breadcrumb";let o=s.forwardRef(({className:e,...r},t)=>a.jsx("ol",{ref:t,className:(0,d.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...r}));o.displayName="BreadcrumbList";let c=s.forwardRef(({className:e,...r},t)=>a.jsx("li",{ref:t,className:(0,d.cn)("inline-flex items-center gap-1.5",e),...r}));c.displayName="BreadcrumbItem";let m=s.forwardRef(({asChild:e,className:r,...t},s)=>{let i=e?l.g7:"a";return a.jsx(i,{ref:s,className:(0,d.cn)("transition-colors hover:text-foreground",r),...t})});m.displayName="BreadcrumbLink";let u=s.forwardRef(({className:e,...r},t)=>a.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,d.cn)("font-normal text-foreground",e),...r}));u.displayName="BreadcrumbPage";let x=({children:e,className:r,...t})=>a.jsx("li",{role:"presentation","aria-hidden":"true",className:(0,d.cn)("[&>svg]:size-3.5",r),...t,children:e??a.jsx(i.XCv,{})});x.displayName="BreadcrumbSeparator";var p=t(79458);function f({items:e}){return a.jsx(n,{children:a.jsx(o,{children:e.map((r,t)=>(0,a.jsxs)(s.Fragment,{children:[t!==e.length-1&&a.jsx(c,{children:a.jsx(m,{href:r.link,children:r.title})}),t<e.length-1&&a.jsx(x,{children:a.jsx(p.Z,{})}),t===e.length-1&&a.jsx(u,{children:r.title})]},r.title))})})}},90475:(e,r,t)=>{"use strict";t.d(r,{H:()=>d});var a=t(68570);let s=(0,a.createProxy)(String.raw`C:\Users\LENOVO\Documents\iwan-project\iwan-admin\components\forms\product-form.tsx`),{__esModule:i,$$typeof:l}=s;s.default,(0,a.createProxy)(String.raw`C:\Users\LENOVO\Documents\iwan-project\iwan-admin\components\forms\product-form.tsx#IMG_MAX_LIMIT`);let d=(0,a.createProxy)(String.raw`C:\Users\LENOVO\Documents\iwan-project\iwan-admin\components\forms\product-form.tsx#ProductForm`)}};